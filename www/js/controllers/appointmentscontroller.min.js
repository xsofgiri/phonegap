function getformattedDate(b){var a=["January","February","March","April","May","June","July","August","September","October","November","December"];return b.getDate()+" "+a[b.getMonth()]+","+b.getFullYear()}OneTo1.AppointmentsController=Ember.ObjectController.extend({loading:true,noAppointment:true,appointmentMode:"FACETOFACE",appointmentModes:["FACETOFACE","TELEPHONIC"],counsellingType:"COUNSELLING",counsellingTypes:["COUNSELLING","WELLNESS"],preferredDate1:"",preferredDate2:"",preferredTime1:"",preferredTime2:"",city:"Bangalore",cities:cityList,contactNumber:"",status:"Requested",enableSubmit:function(){if(this.get("appointmentMode")!=""&&this.get("counsellingType")!=""&&this.get("preferredDate1")!=""&&this.get("preferredDate2")!=""&&this.get("preferredTime1")!=""&&this.get("preferredTime2")!=""&&this.get("city")!=""&&this.get("contactNumber")!=""){return false}return true}.property("appointmentMode","counsellingType","preferredDate1","preferredDate2","city","contactNumber","preferredTime1","preferredTime2"),actions:{back:function(){window.history.back()},tolandingpage:function(){this.transitionToRoute("/")},newAppointment:function(){if(this.get("preferredDate1")-new Date()<-86400||this.get("preferredDate2")-new Date()<-86400){bootbox.alert("Select a Valid Date.");return}if(!validPhonenumber(this.get("contactNumber"))){bootbox.alert("Please enter valid contact number");return}var b={apptFor:this.get("counsellingType"),apptType:this.get("appointmentMode"),city:this.get("city"),comment:"Appointment taken from mobile application.",contactNo:this.get("contactNumber"),memberId:memberId,preferredDate1:getformattedDate(this.get("preferredDate1")),preferredDate2:getformattedDate(this.get("preferredDate2")),preferredTime1:"08:00 am",preferredTime2:"10:00 pm"};var a=this;a.set("loading",true);$.ajax({type:"POST",url:"http://dev.service.1to1help.net/rest/json/metallica/add/appt",contentType:"text/plain",async:true,data:JSON.stringify(b),success:function(c){a.set("loading",false);window.history.back()},error:function(c){a.set("loading",false);alert("error"+c)}})}}});OneTo1.AppointmentsView=Ember.View.extend({templateName:"appointments",didInsertElement:function(){$(".timepicker").timepicker()}});